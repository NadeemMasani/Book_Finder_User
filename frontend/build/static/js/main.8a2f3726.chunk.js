(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],Array(29).concat([function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(7),i=n.n(s),r=(n(29),n(2)),o=n(10),l=n(3),j=n(8),b=n.n(j),u=n(12),d=(n(31),n(0)),O=function(e){var t=e.placeholder,n=e.onChange,a=e.value;return Object(d.jsx)("input",{className:"input",placeholder:t,onChange:n,value:a})},h=(n(33),function(e){return e.href?Object(d.jsx)("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href,children:e.children}):e.to?Object(d.jsx)(o.b,{to:{pathname:e.to,state:{name:e.name,lng:e.lng,lat:e.lat}},exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),children:e.children}):Object(d.jsx)("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled,children:e.children})}),m=(n(38),function(e){return Object(d.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}),x=(n(39),function(e){return Object(d.jsx)("li",{className:"book_item",children:Object(d.jsx)(m,{children:Object(d.jsxs)("div",{className:"book-position",children:[Object(d.jsxs)("div",{className:"align-left",children:[Object(d.jsx)("strong",{children:e.name}),Object(d.jsx)("br",{}),Object(d.jsxs)("sub",{children:[" Author : ",e.author]}),Object(d.jsx)("br",{}),Object(d.jsxs)("sub",{children:[" Category: ",e.category]}),Object(d.jsx)("br",{}),Object(d.jsxs)("sub",{children:[" ISBN No: ",e.isbn]})]}),Object(d.jsx)("div",{className:"align-right",children:Object(d.jsx)(h,{to:"/books/".concat(e.id),name:e.name,lat:e.lat,lng:e.lng,children:" See Available Libraries"})})]})})})}),g=(n(40),function(e){return 0===e.items.length?Object(d.jsx)("div",{className:"no-books",children:Object(d.jsx)("h2",{children:"No Books Found Please try a different Search"})}):Object(d.jsx)("div",{children:Object(d.jsx)("ul",{className:"books-list",children:e.items.map((function(t){return Object(d.jsx)(x,{id:t._id,name:t.name,author:t.author,libraries:t.lib,isbn:t.isbn,category:t.category,publisher:t.publisher,lat:e.lat,lng:e.lng},t._id)}))})})}),p=(n(41),function(e){return Object(d.jsx)("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay"),children:Object(d.jsx)("div",{className:"lds-dual-ring"})})}),f=Object(a.createContext)({lattitude:null,longitude:null,setLat:function(){},setLng:function(){}}),v=n(13),k=n.n(v),N=(n(42),function(){var e=Object(a.useContext)(f),t=Object(a.useState)(""),n=Object(r.a)(t,2),s=n[0],i=n[1],o=Object(a.useState)(),l=Object(r.a)(o,2),j=l[0],m=l[1],x=Object(a.useState)(!1),v=Object(r.a)(x,2),N=v[0],C=v[1],y=Object(a.useState)(),S=Object(r.a)(y,2),L=S[0],_=S[1],w=Object(a.useState)(),P=Object(r.a)(w,2),B=P[0],D=P[1],E=Object(a.useState)("name"),F=Object(r.a)(E,2),I=F[0],z=F[1],A=Object(a.useState)(1),M=Object(r.a)(A,2),R=M[0],T=M[1],J=Object(a.useState)(5),V=Object(r.a)(J,1)[0],W=function(){var e=Object(u.a)(b.a.mark((function e(t){var n,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C(!0),n="".concat("https://book-finder-project.herokuapp.com","/api/search/").concat(s,"?lat=").concat(L,"&lng=").concat(B,"&radio=").concat(I),e.next=5,fetch(n);case 5:return a=e.sent,e.next=8,a.json();case 8:(c=e.sent).books?m(c.books):m([]),C(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){"geolocation"in navigator?(console.log("avail"),navigator.geolocation.getCurrentPosition((function(t){_(t.coords.latitude),D(t.coords.longitude),e.setLat(t.coords.latitude),e.setLng(t.coords.longitude)}))):console.log("Not")}),[]);var q,G=R*V,H=G-V;j&&(q=j.slice(H,G));if(N)return Object(d.jsx)("div",{className:"center",children:Object(d.jsx)(p,{})});var K=function(e){console.log(e.target.value),z(e.target.value)};return Object(d.jsxs)(c.a.Fragment,{children:[Object(d.jsxs)("div",{className:"radio",children:[Object(d.jsx)("input",{type:"radio",value:"name",name:"name",checked:"name"===I,onChange:K}),"Name/Author",Object(d.jsx)("input",{type:"radio",value:"isbn",name:"isbn",checked:"isbn"===I,onChange:K}),"ISBN Number",Object(d.jsx)("input",{type:"radio",value:"category",name:"category",checked:"category"===I,onChange:K}),"Category"]}),Object(d.jsx)("div",{className:"search-container",children:Object(d.jsxs)("form",{onSubmit:W,className:"form-style",children:[Object(d.jsx)(O,{placeholder:"Search",onChange:function(e){return i(e.target.value)},value:s}),Object(d.jsx)(h,{type:"submit",disabled:0===s.length,children:"Search"})]})}),!N&&j&&L&&B&&Object(d.jsx)(g,{items:q,lat:L,lng:B}),j&&j.length>0&&Object(d.jsx)(k.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:Math.ceil(j.length/5),marginPagesDisplayed:3,pageRangeDisplayed:5,onPageChange:function(e){T(e.selected+1),console.log(e)},containerClassName:"pagination",activeClassName:"active",pageClassName:"page-link",previousClassName:"prev-link",nextClassName:"next-link",pageLinkClassName:"a-link"})]})}),C=(n(43),n(22)),y=n(58),S=(n(44),function(e){return i.a.createPortal(Object(d.jsx)("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"))}),L=(n(45),function(e){var t=Object(d.jsxs)("div",{className:"modal ".concat(e.className),style:e.style,children:[Object(d.jsx)("header",{className:"modal__header ".concat(e.headerClass),children:Object(d.jsx)("h2",{children:e.header})}),Object(d.jsxs)("form",{onSubmit:e.onSubmit?e.onSubmit:function(e){return e.preventDefault()},children:[Object(d.jsx)("div",{className:"modal__content ".concat(e.contentClass),children:e.children}),Object(d.jsx)("footer",{className:"modal__footer ".concat(e.footerClass),children:e.footer})]})]});return i.a.createPortal(t,document.getElementById("modal-hook"))}),_=function(e){return Object(d.jsxs)(c.a.Fragment,{children:[e.show&&Object(d.jsx)(S,{onClick:e.onCancel}),Object(d.jsx)(y.a,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:Object(d.jsx)(L,Object(C.a)({},e))})]})},w=(n(46),function(e){var t=Object(a.useRef)(),n=e.center,c=e.zoom;return Object(a.useEffect)((function(){var e=new window.google.maps.Map(t.current,{center:n,zoom:c});new window.google.maps.Marker({position:n,map:e})}),[n,c]),Object(d.jsx)("div",{ref:t,className:"map ".concat(e.className),style:e.style})}),P=function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),s=n[0],i=n[1],o=function(){return i(!1)};return Object(d.jsxs)(c.a.Fragment,{children:[Object(d.jsx)(_,{show:s,onCancel:o,header:e.address,contentClass:"place-item__modal-content",footerClass:"place-item__modal-actions",footer:Object(d.jsx)(h,{onClick:o,children:"CLOSE"}),children:Object(d.jsx)("div",{className:"map-container",children:Object(d.jsx)(w,{center:e.location,zoom:16})})}),Object(d.jsx)("li",{className:"lib_item",children:Object(d.jsx)(m,{children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"align-left",children:["                        ",Object(d.jsx)("strong",{children:e.name}),Object(d.jsx)("br",{}),Object(d.jsxs)("sub",{children:[" Address : ",e.address,", ",e.city,", ",e.country]}),Object(d.jsx)("br",{}),Object(d.jsxs)("sub",{children:[" Distance: ",e.distance]}),Object(d.jsx)("br",{}),e.time&&Object(d.jsxs)("sub",{children:[" Driving Time : ",e.time," "]})]}),Object(d.jsxs)("div",{className:"align-right",children:[Object(d.jsx)(h,{inverse:!0,onClick:function(){return i(!0)},children:"VIEW ON MAP"}),Object(d.jsx)(h,{to:"/".concat(e.id,"/books"),children:" Sell All Books"})]})]})})})]})},B=(n(47),function(e){return 0===e.items.length?Object(d.jsx)("div",{children:Object(d.jsx)("h2",{children:"No Libraries Found Please try a different Search"})}):Object(d.jsx)("div",{children:Object(d.jsx)("ul",{children:e.items.map((function(e){return Object(d.jsx)(P,{id:e._id,name:e.name,address:e.address,location:e.location,city:e.city,zip:e.zip,country:e.country,distance:e.distance,time:e.time},e._id)}))})})}),D=(n(48),function(){var e=Object(l.h)().id,t=Object(l.g)().state,n=t.name,c=t.lat,s=t.lng,i=Object(a.useState)([]),o=Object(r.a)(i,2),j=o[0],O=o[1],h=Object(a.useState)(!1),m=Object(r.a)(h,2),x=m[0],g=m[1],f=Object(a.useState)(1),v=Object(r.a)(f,2),N=v[0],C=v[1],y=Object(a.useState)(5),S=Object(r.a)(y,1)[0];Object(a.useEffect)((function(){(function(){var t=Object(u.a)(b.a.mark((function t(){var n,a,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,g(!0),console.log(c),n="".concat("https://book-finder-project.herokuapp.com","/api/search/books/").concat(e,"?lat=").concat(c,"&lng=").concat(s),t.next=6,fetch(n);case 6:return a=t.sent,t.next=9,a.json();case 9:i=t.sent,console.log(i.libraries),O(i.libraries),g(!1),t.next=17;break;case 15:t.prev=15,t.t0=t.catch(0);case 17:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}})()()}),[e,c,s]);var L=N*S,_=L-S,w=j.slice(_,L);return x?Object(d.jsx)("div",{className:"center",children:Object(d.jsx)(p,{})}):Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("h2",{className:"book-name",children:["List of Libraries with Book : ",n]}),!x&&j&&Object(d.jsx)(B,{items:w}),Object(d.jsx)(k.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:Math.ceil(j.length/5),marginPagesDisplayed:3,pageRangeDisplayed:5,onPageChange:function(e){C(e.selected+1),console.log(e)},containerClassName:"pagination",activeClassName:"active",pageClassName:"page-link",previousClassName:"prev-link",nextClassName:"next-link",pageLinkClassName:"a-link"})]})}),E=(n(49),function(e){return Object(d.jsx)("header",{className:"main-header",children:e.children})}),F=(n(50),function(e){return Object(d.jsxs)("ul",{className:"nav-links",children:[Object(d.jsx)("li",{children:Object(d.jsx)(o.c,{to:"/",exact:!0,children:"Search Books"})}),Object(d.jsx)("li",{children:Object(d.jsx)(o.c,{to:"/libraries",exact:!0,children:"Libraires"})})]})}),I=(n(51),function(e){var t=Object(d.jsx)(y.a,{in:e.show,timeout:200,classNames:"slide-in-left",mountOnEnter:!0,unmountOnExit:!0,children:Object(d.jsx)("aside",{className:"side-drawer",onClick:e.onClick,children:e.children})});return i.a.createPortal(t,document.getElementById("drawer-hook"))}),z=(n(52),function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),s=n[0],i=n[1],l=function(){i(!1)};return Object(d.jsxs)(c.a.Fragment,{children:[s&&Object(d.jsx)(S,{onClick:l}),Object(d.jsx)(I,{show:s,onClick:l,children:Object(d.jsx)("nav",{className:"main-navigation__drawer-nav",children:Object(d.jsx)(F,{})})}),Object(d.jsxs)(E,{children:[Object(d.jsxs)("button",{className:"main-navigation__menu-btn",onClick:function(){i(!0)},children:[Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{})]}),Object(d.jsx)("h1",{className:"main-navigation__title",children:Object(d.jsx)(o.b,{to:"/",children:"Find Books in a Library Near you"})}),Object(d.jsx)("nav",{className:"main-navigation__header-nav",children:Object(d.jsx)(F,{})})]})]})}),A=(n(53),function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),i=Object(r.a)(s,2),o=i[0],l=i[1],j=Object(a.useContext)(f),O=Object(a.useState)(1),h=Object(r.a)(O,2),m=h[0],x=h[1],g=Object(a.useState)(5),v=Object(r.a)(g,1)[0];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),console.log(j.lattitude),console.log(j.longitude),t="".concat("https://book-finder-project.herokuapp.com","/api/library?lat=").concat(j.lattitude,"&lng=").concat(j.longitude),e.next=7,fetch(t);case 7:return n=e.sent,e.next=10,n.json();case 10:a=e.sent,console.log(a.libraries),c(a.libraries),l(!1),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(0);case 18:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var N=m*v,C=N-v,y=n.slice(C,N);return o?Object(d.jsx)("div",{className:"center",children:Object(d.jsx)(p,{})}):Object(d.jsxs)("div",{className:"container",children:[!o&&n&&Object(d.jsx)(B,{items:y}),Object(d.jsx)(k.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:Math.ceil(n.length/5),marginPagesDisplayed:3,pageRangeDisplayed:5,onPageChange:function(e){x(e.selected+1),console.log(e)},containerClassName:"pagination",activeClassName:"active",pageClassName:"page-link",previousClassName:"prev-link",nextClassName:"next-link",pageLinkClassName:"a-link"})]})}),M=(n(54),function(e){return Object(d.jsx)(c.a.Fragment,{children:Object(d.jsx)("li",{className:"book_item",children:Object(d.jsx)(m,{children:Object(d.jsx)("div",{className:"book-position",children:Object(d.jsxs)("div",{className:"align-left",children:[Object(d.jsx)("span",{children:e.name}),Object(d.jsx)("br",{}),Object(d.jsxs)("span",{children:["Author :  ",e.author," "]}),Object(d.jsx)("br",{}),Object(d.jsxs)("span",{children:["Category: ",e.category]}),Object(d.jsx)("br",{}),Object(d.jsxs)("span",{children:["ISBN No: ",e.isbn]}),Object(d.jsx)("br",{})]})})})})})}),R=(n(55),function(e){return 0===e.items.length?Object(d.jsx)("div",{className:"no-books",children:Object(d.jsx)("h2",{children:"No Books Found Please try a different Search"})}):Object(d.jsx)("div",{children:Object(d.jsxs)("ul",{className:"books-list",children:[Object(d.jsx)("h4",{className:"list-name",children:" List of Current Books in the Library"}),e.items.map((function(t){return Object(d.jsx)(M,{id:t.id,name:t.name,author:t.author,isbn:t.isbn,category:t.category,onDelete:e.onDeleteBook,publisher:t.publisher},t.id)}))]})})}),T=(n(56),function(){var e=Object(a.useContext)(f),t=Object(a.useState)(),n=Object(r.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),o=Object(r.a)(i,2),j=o[0],O=o[1],h=Object(a.useState)(1),m=Object(r.a)(h,2),x=m[0],g=m[1],v=Object(a.useState)(5),N=Object(r.a)(v,1)[0],C=Object(l.h)().lid;Object(a.useEffect)((function(){(function(){var t=Object(u.a)(b.a.mark((function t(){var n,a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),console.log(C),console.log(e.lattitude),n="".concat("https://book-finder-project.herokuapp.com","/api/library/").concat(C,"/books"),t.next=6,fetch(n);case 6:return a=t.sent,t.next=9,a.json();case 9:(c=t.sent).books?(console.log(c.books),s(c.books)):s([]),O(!1);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[C]);var y,S=x*N,L=S-N;c&&(y=c.slice(L,S));return j?Object(d.jsx)("div",{className:"center",children:Object(d.jsx)(p,{})}):Object(d.jsxs)("div",{className:"container",children:[!j&&c&&Object(d.jsx)(R,{items:y}),c&&c.length>0&&Object(d.jsx)(k.a,{previousLabel:"previous",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:Math.ceil(c.length/5),marginPagesDisplayed:3,pageRangeDisplayed:5,onPageChange:function(e){g(e.selected+1),console.log(e)},containerClassName:"pagination",activeClassName:"active",pageClassName:"page-link",previousClassName:"prev-link",nextClassName:"next-link",pageLinkClassName:"a-link"})]})}),J=function(){var e=Object(a.useState)(),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(),i=Object(r.a)(s,2),j=i[0],b=i[1],u=Object(a.useCallback)((function(e){c(e)}),[]),O=Object(a.useCallback)((function(e){b(e)}),[]);return Object(d.jsx)(f.Provider,{value:{lattitude:n,longitude:j,setLat:u,setLng:O},children:Object(d.jsxs)(o.a,{children:[Object(d.jsx)(z,{}),Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.b,{path:"/",exact:!0,children:Object(d.jsx)(N,{})}),Object(d.jsx)(l.b,{path:"/books/:id",exact:!0,children:Object(d.jsx)(D,{})}),Object(d.jsx)(l.b,{path:"/libraries",exact:!0,children:Object(d.jsx)(A,{})}),Object(d.jsx)(l.b,{path:"/:lid/books",exact:!0,children:Object(d.jsx)(T,{})}),Object(d.jsx)(l.a,{to:"/"})]})]})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(J,{})}),document.getElementById("root")),V()}]),[[57,1,2]]]);
//# sourceMappingURL=main.8a2f3726.chunk.js.map